<%= javascript_include_tag "project_selectors" %> 

<!-- INITIALIZATION -->
    <% scrum_task = scrum_task %> <!-- generate local variable from local pulled in from render partial in edit.js.erb. local variable isn't recognized if I don't have this line included -->
    <% if scrum_task.nil? then scrum_task = ScrumTask.new end%> <!-- null handling to satisfy compiler -->

<%= form_for scrum_task do |form| %>

  <div>
    Task ID: <%= scrum_task.id %>
  </div>
  <div id="">
    <%= form.label :task_recurrence %>
    <%= form.select :task_recurrences_id, TaskRecurrence.all.collect {|tr| [ tr.name, tr.id] }, :value => scrum_task.task_recurrences_id %>
  </div>

  <br><div>
    <%= form.label :project_umbrella %>
    <%=form.select :project_umbrella_id, ProjectUmbrella.all.collect {|pu| [ pu.name, pu.id ] }, :value => scrum_task.project_umbrella_id %>
  </div>

  <br><div>
    <%= form.label :project %>
    <%= form.select :project_id, Project.all.collect { | p | [p.name, p.id] }, :value => scrum_task.project_id %>
  </div>

  <br><div>
    <%= form.label :project_module %>
    <%=form.select :project_module_id, ProjectModule.all.collect {|pm| [ pm.name, pm.id ] }, :value => scrum_task.project_module_id %>
  </div>

  <div>
    <%= form.label :name %>
    <%= form.text_field :name, :value => scrum_task.name %>
  </div>

  <div>
    <%= form.label :repeat_recurrence %>
    <%= form.select :repeat_recurrences_id, @repeat_recurrence, :value => scrum_task.repeat_recurrences_id %>
  </div>

  <div class="field">
      Add to 'Today's Tasks':
      <%= form.check_box :is_daily_task %>
  </div>

  <div>
    <%= form.label :active %>
    <%= form.check_box :active, :value => scrum_task.active %>
  </div> 

  <div>
    <%= form.label :completed %>
    <%= form.check_box :completed, :value => scrum_task.completed %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>